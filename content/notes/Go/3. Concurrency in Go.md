
Why use concurrency

并发 和并行
go lang , part of language
parallel execution

two programs execute in parallel if they execute at exactly the same time

两个单词- Concurrency
Parallelism

why use parallel execution
为什么要使用并行执行？
tasks may complete more quickly
two piles of dishes to wash - two dishwashers can complete twice as fast as one

some tasks must be performed sequentially
wash dish, dry dish
must wash before you can dry

- some tasks are parallelizable and some are not
有些必须要先计算

2.冯诺依曼瓶颈
CPU速度预计快于内存访问速度，导致CPU需要数据，降低性能。
speed up with out paralelism
can we achieve speedup without parallelism

design faster procesors
get speedup with out changing software

more and more cache

moore's law
two years

power wall
p = α * CFV^2
α is percent of time switching

C is capacitance 
F is the clock frequency
V is voltage swing 

Dennard Scaling
voltage should scale with transistor size

cocurrent execution is not necessary ily the same as parallele execution

concurent: start and end times overlap

hiding latency

hardware mapping in go

processes
an instance of a running program
things unique to a process
1.memory
virtual address space
2. registers

operating system
processes are switched quickly
20ms

schedualing 

user has the impression of parallelism

context switch

control flow changes from one process to another

threads go routine
threads share some context 线程
many threads can exist in one process

switch context in process 慢
switch threads 快

Go routines
a thread in go (like)
many go routines excute within a single os thread

go run time scheduler
logical processor ias mapped to a thread\
程序员可以选择使用多少个逻辑处理器
like a little os inside single os

Interleaving 交错
order of execution with in a task is know
ofer of execution between concurrent is un known

race conditions

communication between tasks
web server one thread per client

进程间需要一定程度的通讯，否则会造成竞争？
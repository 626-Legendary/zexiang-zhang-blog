---
title: äºŒåˆ†æŸ¥æ‰¾ï¼ˆBinary Searchï¼‰
date: 2025-12-28
tags: [æ•°æ®ç»“æ„ä¸ç®—æ³•,å­¦ä¹ ç¬”è®°,Python]
cover: /covers/æ•°æ®ç»“æ„ä¸ç®—æ³•/BinarySearch.png
---

# ğŸ“˜ äºŒåˆ†æŸ¥æ‰¾ï¼ˆBinary Searchï¼‰

### ğŸ¯ äºŒåˆ†æŸ¥æ‰¾é€‚ç”¨åœºæ™¯

é€‚ç”¨äº **å•è°ƒæ€§ç‰¹å¾** çš„é—®é¢˜ï¼š

* æ•°ç»„æœ‰åºï¼ˆå‡åº / é™åºï¼‰
* æˆ–è€…å‡½æ•°ç»“æœâ€œå·¦å³å•è°ƒâ€â€”â€”è™½ç„¶æ•°ç»„æœ¬èº«å¯èƒ½æ— åºï¼ˆå¦‚æ‰¾å³°å€¼ï¼‰

---

## ğŸ§© æ¨¡æ¿æ€ç»´ â€”â€” æœ€å…³é”®çš„ä¸æ˜¯ä»£ç ï¼Œè€Œæ˜¯â€œæ€è·¯åˆ’åˆ†â€

### â–¶ï¸ ç»å…¸ï¼šåœ¨æœ‰åºæ•°ç»„ä¸­åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨

ç›®æ ‡ï¼š`arr` ä¸­æ˜¯å¦åŒ…å« `num`

| é€»è¾‘                                 | è¯´æ˜    |
| ---------------------------------- | ----- |
| `if arr[mid] < num: l = mid + 1`   | ç›®æ ‡åœ¨å³ä¾§ |
| `elif arr[mid] > num: r = mid - 1` | ç›®æ ‡åœ¨å·¦ä¾§ |
| else â†’ return True                 | å‘½ä¸­    |

æ—¶é—´å¤æ‚åº¦ï¼š**O(logN)**

---

### â–¶ï¸ å˜å½¢1ï¼šæ‰¾ â‰¥ num çš„æœ€å·¦ä½ç½®ï¼ˆlower boundï¼‰

ç›®æ ‡ï¼šè¿”å›ç¬¬ä¸€å¤„ `arr[i] >= num` çš„ä½ç½®
æŠ€å·§ï¼š**å‘½ä¸­åç»§ç»­å‘å·¦æ”¶ç¼© r = mid -1**

---

### â–¶ï¸ å˜å½¢2ï¼šæ‰¾ â‰¤ num çš„æœ€å³ä½ç½®ï¼ˆupper boundï¼‰

ç›®æ ‡ï¼šè¿”å›æœ€åä¸€ä¸ª `arr[i] <= num` çš„ä½ç½®
æŠ€å·§ï¼š**å‘½ä¸­åå‘å³æ”¶ç¼© l = mid + 1**

---

### â–¶ï¸ äºŒåˆ† â‰  åªèƒ½åœ¨æœ‰åºæ•°ç»„å‡ºç°

ä¾‹å­ï¼šå¯»æ‰¾å³°å€¼é—®é¢˜ï¼ˆLeetCode 162ï¼‰
â¡ï¸ å…³é”®æ˜¯åˆ©ç”¨ **æ¯”è¾ƒæ–¹å‘å†³å®šå³°å€¼ä¸€å®šå­˜åœ¨çš„åŒºé—´**

| æƒ…å†µ                        | è¯´æ˜                | ä¸‹ä¸€æ­¥           |
| ------------------------- | ----------------- | ------------- |
| `nums[mid] < nums[mid+1]` | å³ä¾§ä¸Šå¡ â†’ å³°ä¸€å®šåœ¨å³      | `l = mid + 1` |
| å¦åˆ™                        | å·¦ä¾§ â‰¥ â†’ å³°ä¸€å®šåœ¨å·¦æˆ– mid | `r = mid`     |

---

```python
# äºŒåˆ†æŸ¥æ‰¾ç®—æ³•æ€»ç»“
# 1. åœ¨æœ‰åºæ•°ç»„ä¸­ç¡®å®š num æ˜¯å¦å­˜åœ¨                  -> exist()
# 2. åœ¨æœ‰åºæ•°ç»„ä¸­æ‰¾ â‰¥ num çš„æœ€å·¦ä½ç½® (lower bound)   -> findLeft()
# 3. åœ¨æœ‰åºæ•°ç»„ä¸­æ‰¾ â‰¤ num çš„æœ€å³è¾¹ä½ç½® (upper bound) -> findRight()
# 4. äºŒåˆ†æœç´¢ä¸ä¸€å®šå‘ç”Ÿåœ¨æœ‰åºæ•°ç»„ä¸Š (å¯»æ‰¾å³°å€¼)       -> findPeakElement()

# æ—¶é—´å¤æ‚åº¦å‡ä¸º O(logN)

import math

# ==========================
# 1. åˆ¤æ–­ num æ˜¯å¦å­˜åœ¨
# ==========================
def exist(arr, num):
    n = len(arr)
    if n == 0:
        return False

    l, r = 0, n - 1
    while l <= r:
        mid = l + ((r - l) >> 1)
        if arr[mid] < num:
            l = mid + 1
        elif arr[mid] > num:
            r = mid - 1
        else:
            return True
    return False


# ==========================
# 2. æ‰¾ â‰¥ num çš„æœ€å·¦ä½ç½®
# æ€è·¯ï¼šå‘½ä¸­ >= æ—¶è®°å½•ç­”æ¡ˆå¹¶ç»§ç»­å¾€å·¦ç¼© r
# ==========================
def findLeft(arr, num):
    res = -1
    n = len(arr)
    if n == 0 or arr[-1] < num:
        return res  # è¶Šç•Œæƒ…å†µï¼šæœ€å¤§å€¼ < num

    l, r = 0, n - 1
    while l <= r:
        mid = l + ((r - l) >> 1)
        if arr[mid] >= num:
            res = mid  # å¯èƒ½æ˜¯ç­”æ¡ˆï¼Œä½†å¾€å·¦çœ‹çœ‹
            r = mid - 1
        else:
            l = mid + 1
    return res


# ==========================
# 3. æ‰¾ â‰¤ num çš„æœ€å³ä½ç½®
# æ€è·¯ï¼šå‘½ä¸­ <= æ—¶è®°å½•ç­”æ¡ˆå¹¶ç»§ç»­å¾€å³ç¼© l
# ==========================
def findRight(arr, num):
    res = -1
    n = len(arr)
    if n == 0 or arr[0] > num:
        return res  # è¶Šç•Œæƒ…å†µï¼šæœ€å°å€¼ > num

    l, r = 0, n - 1
    while l <= r:
        mid = l + ((r - l) >> 1)
        if arr[mid] <= num:
            res = mid  # å¯èƒ½æ˜¯ç­”æ¡ˆï¼›å‘å³ç»§ç»­æ‰¾æ›´å¤§çš„æ»¡è¶³æ¡ä»¶
            l = mid + 1
        else:
            r = mid - 1
    return res


# ==========================
# 4. å¯»æ‰¾å³°å€¼ (Peak Element)
# LeetCode 162
# æ ¸å¿ƒé€»è¾‘ï¼šé€šè¿‡ mid ä¸ mid+1 æ¯”è¾ƒå†³å®šå³°å€¼ä¸€å®šåœ¨å“ªä¾§
# ==========================
def findPeakElement(arr):
    n = len(arr)
    if n == 1:
        return 0
    if arr[0] > arr[1]:
        return 0
    if arr[-1] > arr[-2]:
        return n - 1

    l, r = 1, n - 2
    while l < r:
        mid = l + ((r - l) >> 1)
        # å¦‚æœå³è¾¹æ¯” mid å¤§ï¼Œåˆ™å³°ä¸€å®šåœ¨å³ä¾§
        if arr[mid] < arr[mid + 1]:
            l = mid + 1
        else:
            r = mid
    return l  # l == rï¼Œä¸ºå³°å€¼ä½ç½®


# ==========================
# æµ‹è¯•è¿è¡Œ
# ==========================
if __name__ == "__main__":
    print("========== TEST ==========")

    arr1 = [1,2,3,4,5,6,7,8,9,10]
    print("exist(arr1, 6):", exist(arr1, 6))

    arr2 = [1,2,3,4,5,6,8,9,10]
    print("findLeft(arr2, 7):", findLeft(arr2, 7))

    arr3 = [1,3,4,4,4,7,9,10]
    print("findRight(arr3, 4):", findRight(arr3, 4))

    arr4_1 = [1,2,3,1]
    arr4_2 = [1,2,1,3,5,6,4]
    print("findPeakElement(arr4_1):", findPeakElement(arr4_1))
    print("findPeakElement(arr4_2):", findPeakElement(arr4_2))


```

---

# âœï¸ å»ºè®®å­¦ä¹ äºŒåˆ†æŸ¥æ‰¾çš„é¡ºåº

1ï¸âƒ£ æ­»èƒŒæœ€å°æ¨¡æ¿ï¼šåˆ¤æ–­æ˜¯å¦å­˜åœ¨
2ï¸âƒ£ ç†Ÿç»ƒå˜å½¢ï¼šå·¦å³è¾¹ç•Œ
3ï¸âƒ£ æå‡ï¼šæ— åºæ•°ç»„ä¹Ÿèƒ½äºŒåˆ†ï¼ˆæ‰¾å³°å€¼ / å±±è„‰æ•°ç»„ / æ—‹è½¬æ•°ç»„ï¼‰

---

## ğŸ§© A. åŸºç¡€äºŒåˆ†æŸ¥æ‰¾ï¼ˆExist æ¨¡æ¿ï¼‰

**1ï¸âƒ£ LeetCode 704 â€“ Binary Search**
ç»™å®šå‡åºæ•°ç»„ä¸ç›®æ ‡å€¼ï¼Œè¿”å›ä¸‹æ ‡ï¼Œä¸å­˜åœ¨è¿”å› -1
ğŸ‘‰ *æ¨¡æ¿æœ€è£¸å½¢æ€ï¼Œå¿…é¡»èƒŒç†Ÿ*

---

## ğŸ§© B. å·¦å³è¾¹ç•Œï¼ˆLower/Upper Boundï¼‰

**2ï¸âƒ£ LeetCode 852 â€“ Peak Index in a Mountain Array**
ä½†ä¹Ÿå¯ä»¥å½“ lower-bound æ€è·¯ç»ƒä¹ ï¼šæ‰¾æ•°ç»„å±±å³°åŒºé—´åˆ†ç•Œç‚¹
ğŸ‘‰ *è®­ç»ƒï¼šmid å’Œ mid+1 çš„æ¯”è¾ƒå¦‚ä½•å†³å®šæœç´¢æ–¹å‘*

**3ï¸âƒ£ LeetCode 35 â€“ Search Insert Position**
è¿”å›ç›®æ ‡å€¼åº”æ’å…¥çš„ä½ç½®ï¼ˆå³ â‰¥target æœ€å·¦ä½ç½®ï¼‰
ğŸ‘‰ *ä¸ findLeft ä¸€æ¨¡ä¸€æ ·ï¼Œç”¨é¢˜å¼ºåŒ–*

---

## ğŸ§© C. äºŒåˆ†ä¸åœ¨æ•°ç»„ â€” åœ¨ç­”æ¡ˆç©ºé—´ä¸ŠäºŒåˆ†

å³â€œ**äºŒåˆ†ç­”æ¡ˆ**â€ï¼Œè¿™ç§æ˜¯è¿›é˜¶æ ¸å¿ƒ

**4ï¸âƒ£ LeetCode 69 â€“ Sqrt(x)**
æ±‚ sqrt(x) çš„æ•´æ•°éƒ¨åˆ†
ğŸ‘‰ *æœ¬è´¨ï¼šåœ¨æ•´æ•°ç­”æ¡ˆèŒƒå›´ [0, x] ä¸ŠåšäºŒåˆ†*

**5ï¸âƒ£ LeetCode 410 â€“ Split Array Largest Sumï¼ˆå›°éš¾ï¼‰**
æŠŠæ•°ç»„åˆ†æˆ k ä»½ï¼Œä½¿æœ€å¤§å­æ•°ç»„å’Œå°½å¯èƒ½å°
ğŸ‘‰ *ç­”æ¡ˆä¸æ˜¯ä¸‹æ ‡ï¼Œè€Œæ˜¯ â€œæœ€å¤§å’Œæ•°å€¼â€ -> ç»å…¸äºŒåˆ†ç­”æ¡ˆé¢˜*

---

## ğŸ§² D. æ—‹è½¬æ•°ç»„ç±»ï¼ˆäºŒåˆ† + æ¨¡æ¿å˜å½¢ï¼‰

**6ï¸âƒ£ LeetCode 33 â€“ Search in Rotated Sorted Array**
æ—‹è½¬æœ‰åºæ•°ç»„å†…æ˜¯å¦å­˜åœ¨ target
ğŸ‘‰ *æµ‹è¯•â€œåŒºé—´å“ªè¾¹æ˜¯æœ‰åºçš„â€ä¸ mid åˆ¤æ–­èƒ½åŠ›*

**7ï¸âƒ£ LeetCode 153 â€“ Find Minimum in Rotated Sorted Array**
æ— é‡å¤æ•°å­—æƒ…å†µä¸‹ï¼Œæ‰¾æ—‹è½¬æœ€å°å€¼
ğŸ‘‰ *r = mid æ›¿ä»£ r = mid -1 çš„ç»å…¸åœºæ™¯*

---

## ğŸ§± E. é¢‘ç‡ & åˆ†å¸ƒå‹äºŒåˆ†

**8ï¸âƒ£ LeetCode 875 â€“ Koko Eating Bananas**
æœ€å°æ—¶é€Ÿ H ä½¿å¾—çŒ´å­èƒ½åƒå®Œé¦™è•‰
ğŸ‘‰ *åœ¨é€Ÿåº¦ V è¿›è¡ŒäºŒåˆ† while check(V) æ˜¯å¦å¯è¡Œ*

**9ï¸âƒ£ LeetCode 1011 â€“ Capacity To Ship Packages Within D Days**
æœ€å°è¿è½½èƒ½åŠ›
ğŸ‘‰ *ä¸ Koko åŒç±»ï¼šäºŒåˆ† check å‡½æ•°*

---

## ğŸ é¢å¤–ï¼š

**10ï¸âƒ£ LeetCode 162 â€“ Find Peak Element**
ğŸ‘‰ *mid < mid+1 â†’ l = mid+1ï¼›å¦åˆ™ r = mid*

---

# ğŸš€ å»ºè®®åˆ·é¢˜é¡ºåºï¼ˆä»æ˜“åˆ°éš¾ï¼‰

| é˜¶æ®µ     | é¢˜å·                    |
| ------ | --------------------- |
| åŸºç¡€æŸ¥æ‰¾   | 704                   |
| å·¦å³è¾¹ç•Œ   | 35                    |
| å³°å€¼åˆ¤æ–­   | 852 â†’ 162             |
| æ—‹è½¬æ•°ç»„å˜å½¢ | 153 â†’ 33              |
| äºŒåˆ†ç­”æ¡ˆæ€æƒ³ | 69 â†’ 875 â†’ 1011 â†’ 410 |

---